<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>üìä Financial Criteria Checklist</title>
  <style>
    :root {
      --primary-color: #2E7D32;
      --primary-light: #4CAF50;
      --secondary-color: #1565C0;
      --secondary-light: #2196F3;
      --background-light: #f8fafc;
      --background-dark: #e8edf2;
      --text-color: #2d3748;
      --text-light: #4a5568;
      --border-color: #e2e8f0;
      --shadow-light: rgba(0, 0, 0, 0.05);
      --shadow-medium: rgba(0, 0, 0, 0.1);
      --error-color: #D32F2F;
      --success-color: #388E3C;
      --warning-color: #F57C00;
      --card-radius: 12px;
      --transition: all 0.2s ease-in-out;
      --dark-grey: #616161;
      --dark-grey-hover: #424242;
    }

    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0;
      background: var(--background-light);
      color: var(--text-color);
    }

    .header {
      display: flex;
      justify-content: center;
      align-items: center;
      background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
      color: white;
      padding: 25px 30px;
      border-bottom: 1px solid rgba(255,255,255,0.1);
      flex-wrap: wrap;
      position: relative;
    }

    .header-content {
      text-align: center;
      flex-grow: 1;
      padding-right: 20px;
    }

    .header-buttons {
      display: flex;
      gap: 10px;
      position: absolute;
      top: 15px;
      right: 15px;
    }

    .header-button {
      padding: 8px 16px;
      font-size: 0.9rem;
      background-color: var(--dark-grey);
      color: white;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      font-weight: 600;
      transition: var(--transition);
      text-align: center;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }

    .header-button:hover {
      background-color: var(--dark-grey-hover);
      transform: translateY(-1px);
      box-shadow: 0 3px 6px rgba(0,0,0,0.15);
    }

    main.wrap {
      max-width: 900px;
      margin: 0 auto;
      padding: 20px;
    }

    .card {
      background: #fff;
      padding: 20px;
      margin-bottom: 18px;
      border-radius: var(--card-radius);
      box-shadow: 0 2px 4px var(--shadow-medium);
    }

    h1 {
      margin-top: 0;
      color: white;
    }

    h2 {
      margin-top: 0;
      color: var(--text-color);
    }

    .criteria {
      cursor: pointer;
      padding: 15px;
      margin-bottom: 15px;
      border-radius: var(--card-radius);
      background-color: #ffffff;
      transition: var(--transition);
      border-left: 4px solid var(--border-color);
      box-shadow: 0 2px 4px var(--shadow-light);
      position: relative;
    }

    .criteria:hover {
      background-color: var(--background-dark);
      box-shadow: 0 4px 8px var(--shadow-medium);
      transform: translateY(-2px);
      border-left-color: var(--secondary-light);
    }

    .highlighted {
      background-color: #e8f4fd;
      box-shadow: 0 4px 8px rgba(40, 167, 69, 0.1);
      border-left-color: var(--success-color);
    }

    label {
      display: inline-block;
      padding: 0px 8px;
      font-weight: 630;
      cursor: pointer;
      color: var(--text-color);
    }

    .tooltip {
      border-bottom: 1px dotted var(--secondary-light);
      cursor: help;
      position: relative;
      color: var(--secondary-light);
    }

    .tooltip:hover::after {
      content: attr(data-tooltip);
      position: absolute;
      background: var(--text-color);
      color: #fff;
      padding: 8px 12px;
      border-radius: 5px;
      font-size: 0.85em;
      top: 25px;
      left: 0;
      min-width: 200px;
      max-width: 300px;
      z-index: 1000;
      box-shadow: 0 3px 6px var(--shadow-medium);
    }

    #progressTracker {
      margin-bottom: 20px;
      margin-top: 10px;
      font-weight: bold;
      color: var(--text-light);
      padding: 10px;
      background-color: var(--background-dark);
      border-radius: var(--card-radius);
      display: inline-block;
    }

    .extra-section {
      margin-top: 30px;
      padding: 20px;
      background-color: #ffffff;
      border-radius: var(--card-radius);
      box-shadow: 0 2px 4px var(--shadow-light);
    }

    .extra-section h2 {
      margin-top: 0;
      color: var(--text-color);
      border-bottom: 1px solid var(--border-color);
      padding-bottom: 10px;
    }

    .ratio-list, .broker-list {
      margin: 0;
      padding-left: 20px;
    }

    .ratio-list li, .broker-list li {
      margin-bottom: 10px;
    }

    a {
      color: var(--secondary-light);
      text-decoration: none;
      transition: color 0.2s ease;
    }

    a:hover {
      color: var(--secondary-color);
      text-decoration: underline;
    }

    @media (max-width: 768px) {
      .header {
        padding: 15px;
      }
      
      .header-buttons {
        position: static;
        display: flex;
        width: 100%;
        margin-top: 15px;
        justify-content: center;
      }
      
      .header-button {
        width: 48%;
      }
      
      main.wrap {
        padding: 15px;
      }
      
      #progressTracker {
        display: block;
        margin-top: 10px;
        width: 100%;
        text-align: center;
      }
    }

    /* New economic moat styling */
    .moat-tag {
      display: inline-block;
      background-color: var(--background-dark);
      padding: 3px 8px;
      border-radius: 4px;
      font-size: 0.8em;
      margin-left: 8px;
      color: var(--text-light);
    }

    .moat-tag.brand {
      background-color: #fff8e1;
      color: #e65100;
    }

    .moat-tag.network {
      background-color: #e3f2fd;
      color: var(--secondary-color);
    }

    .moat-tag.tech {
      background-color: #e8f5e9;
      color: var(--success-color);
    }

    .moat-tag.switching {
      background-color: #f3e5f5;
      color: #7b1fa2;
    }

    .moat-tag.size {
      background-color: #e0f7fa;
      color: #00838f;
    }

    /* AI Help Button Styles */
    .ai-help-btn {
      position: absolute;
      right: 15px;
      top: 15px;
      padding: 6px 12px;
      font-size: 0.8em;
      background-color: var(--dark-grey);
      color: white;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      transition: var(--transition);
    }

    .ai-help-btn:hover {
      background-color: var(--dark-grey-hover);
    }

    /* Check Button Styles */
    .check-btn {
      margin-left: 10px;
      padding: 6px 12px;
      font-size: 0.8em;
      background-color: var(--secondary-light);
      color: white;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      transition: var(--transition);
    }

    .check-btn:hover {
      background-color: var(--secondary-color);
    }

    /* Modal Styles */
    .modal {
      display: none;
      position: fixed;
      z-index: 1000;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0,0,0,0.5);
    }

    .modal-content {
      background-color: #fefefe;
      margin: 15% auto;
      padding: 20px;
      border-radius: var(--card-radius);
      box-shadow: 0 4px 8px rgba(0,0,0,0.2);
      width: 300px;
      text-align: center;
    }

    .close {
      color: #aaa;
      float: right;
      font-size: 28px;
      font-weight: bold;
      cursor: pointer;
    }

    .close:hover {
      color: black;
    }

    #tickerInput {
      width: 100%;
      padding: 8px;
      margin: 10px 0;
      border: 1px solid var(--border-color);
      border-radius: 4px;
      box-sizing: border-box;
    }

    #tickerInput::placeholder {
      color: #aaa;
    }

    #submitTicker {
      background-color: var(--primary-color);
      color: white;
      border: none;
      padding: 8px 16px;
      border-radius: 4px;
      cursor: pointer;
      transition: var(--transition);
    }

    #submitTicker:hover {
      background-color: var(--primary-light);
    }

    footer {
      display: flex;
      justify-content: center;
      align-items: center;
      background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
      color: white;
      padding: 25px 30px;
      border-top: 1px solid rgba(255,255,255,0.1);
      flex-wrap: wrap;
      position: relative;
    }
  </style>
</head>
<body>
  <header class="header">
    <div class="header-content">
      <h1>üìä Financial Criteria Checklist</h1>
    </div>
    <div class="header-buttons">
      <button class="header-button" id="translateBtn">–†—É—Å—Å–∫–∏–π</button>
      <button class="header-button" id="ivCalculatorBtn">IV Calculator</button>
    </div>
  </header>

  <main class="wrap">
    <div id="progressTracker">0 of 7 criteria selected</div>

    <div class="card">
      <div class="criteria" id="group1" onclick="toggleCriteria(1)">
        <input type="checkbox" id="criteria1" style="display: none;">
        <label for="criteria1" style="margin-bottom: 3px;">Previous 5-Year Revenue Growth of 50% (CAGR 10%)</label>
        <button class="check-btn" onclick="openTickerModal(event, 'revenue')">Check</button>
        <p id="text1" style="margin-top: 0; margin-bottom: 0;">Think of a company like a football player or boxer‚Äîone that's already successful is more likely to win in the future than one that's not.</p>
      </div>

      <div class="criteria" id="group2" onclick="toggleCriteria(2)">
        <input type="checkbox" id="criteria2" style="display: none;">
        <label for="criteria2" style="margin-bottom: 3px;">Debt to Equity (DE) Ratio Less Than 1.5</label>
        <button class="check-btn" onclick="openTickerModal(event, 'debtToEquity')">Check</button>
        <p id="text2" style="margin-top: 0; margin-bottom: 0;">Statistically, companies with lower debt tend to deliver better future results.</p>
      </div>

      <div class="criteria" id="group3" onclick="toggleCriteria(3)">
        <input type="checkbox" id="criteria3" style="display: none;">
        <label for="criteria3" style="margin-bottom: 3px;"><span class="tooltip" data-tooltip="Price/Earnings to Growth (PEG) is a ratio used to determine a stock's value while factoring in growth.">PEG</span> Ratio Under 1.5*</label>
        <button class="check-btn" onclick="openTickerModal(event, 'peg')">Check</button>
        <p id="text3" style="margin-top: 0; margin-bottom: 0;">Suggests reasonable stock pricing relative to growth potential.*For companies with economic moat - under 3.5</p>
      </div>

      <div class="criteria" id="group4" onclick="toggleCriteria(4)">
        <input type="checkbox" id="criteria4" style="display: none;">
        <label for="criteria4" style="margin-bottom: 3px;">Positive Cash Flow</label>
        <button class="check-btn" onclick="openTickerModal(event, 'cashflow')">Check</button>
        <p id="text4" style="margin-top: 0; margin-bottom: 0;">Consistent cash inflow gives a company a safety buffer during market downturns.</p>
      </div>

      <div class="criteria" id="group5" onclick="toggleCriteria(5)">
        <input type="checkbox" id="criteria5" style="display: none;">
        <label for="criteria5" style="margin-bottom: 3px;">Return on Equity (ROE) Above 10%</label>
        <button class="check-btn" onclick="openTickerModal(event, 'roe')">Check</button>
        <p id="text5" style="margin-top: 0; margin-bottom: 0;">Strong ROE means the company turns $10 of investor capital into $11 or more.</p>
      </div>

      <div class="criteria" id="group6" onclick="toggleCriteria(6)">
        <input type="checkbox" id="criteria6" style="display: none;">
        <label for="criteria6" style="margin-bottom: 3px;"><span class="tooltip" data-tooltip="Is there growing demand for this company's product or service?">Future Market Demand</span></label>
        <p id="text6" style="margin-top: 0; margin-bottom: 0;">Assess what customers, trends, and analysts say about future relevance.</p>
      </div>

      <div class="criteria" id="group7" onclick="toggleCriteria(7)">
        <input type="checkbox" id="criteria7" style="display: none;">
        <label for="criteria7">Economic Moat (Competitive Advantage)</label>
        <button class="ai-help-btn" onclick="openAiHelp(event)">Define with AI help</button>
        <p id="text7" style="margin-top: 0; margin-bottom: 0;">
          <span class="moat-tag brand">Brand Power</span>
          <span class="moat-tag network">Network Effects</span>
          <span class="moat-tag tech">Patents/Tech</span>
          <span class="moat-tag switching">Switching Costs</span>
          <span class="moat-tag size">Size Advantage</span>
          <br>Companies with strong competitive advantages can sustain profits longer.
        </p>
      </div>
    </div>

    <!-- Modal for Ticker Input -->
    <div id="tickerModal" class="modal">
      <div class="modal-content">
        <span class="close">&times;</span>
        <p id="modalMessage">Enter ticker symbol</p>
        <input type="text" id="tickerInput" placeholder="example MSFT">
        <button id="submitTicker">OK</button>
      </div>
    </div>

    <div class="extra-section">
      <h2 id="basicKnowledgeTitle">üõ†Ô∏è Basic Knowledge</h2>
      <ul class="ratio-list">
        <li id="peRatio"><strong>P/E Ratio</strong>: Price-to-Earnings. Measures share price relative to earnings per share. <em>Calculated as: Price √∑ EPS</em></li>
        <li id="pegRatio"><strong>PEG Ratio</strong>: P/E to Growth. Adjusts P/E by growth rate. <em>Calculated as: P/E √∑ Earnings Growth %</em></li>
        <li id="roeRatio"><strong>ROE</strong>: Return on Equity. Indicates how efficiently equity is used. <em>Calculated as: Net Income √∑ Shareholder's Equity</em></li>
        <li id="roaRatio"><strong>ROA</strong>: Return on Assets. Measures profitability by total assets. <em>Calculated as: Net Income √∑ Total Assets</em></li>
        <li id="deRatio"><strong>Debt/Equity</strong>: Shows leverage level. <em>Calculated as: Total Liabilities √∑ Shareholder's Equity</em></li>
        <li id="dividendYield"><strong>Dividend Yield</strong>: Income from dividends. <em>Calculated as: Annual Dividend √∑ Share Price</em></li>
        <li id="epsRatio"><strong>EPS</strong>: Earnings Per Share. Represents profitability per share. <em>Calculated as: Net Income √∑ Shares Outstanding</em></li>
        <li id="pbRatio"><strong>Price-to-Book</strong>: Market value vs. book value. <em>Calculated as: Share Price √∑ Book Value per Share</em></li>
      </ul>
    </div>

    <div class="extra-section">
      <h2 id="usefulLinksTitle">üîó Useful Links</h2>
      <p id="stockAnalysisLink">
        Website for free stock analysis: <a href="https://stockanalysis.com/?ref=pavlo" target="_blank">StockAnalysis.com</a><br>
        My YouTube channel on investing: <a href="https://www.youtube.com/@PavloLomakin" target="_blank">YouTube.com/@PavloLomakin</a>
      </p>

      <h2 id="recommendedBrokersTitle">ü§ù Recommended Brokers</h2>
      <ul class="broker-list">
        <li id="ibkrLink">Interactive brokers (World wide) - <a href="https://ibkr.com/referral/pavlo272" target="_blank">ibkr.com</a></li>
        <li id="questradeLink">Questrade (Canada) - <a href="https://start.questrade.com/?oaa_promo=515724004489095&s_cid=RAF14_share_link_refer_a_friend_email&utm_medium=share_link&utm_source=refer_a_friend&utm_campaign=RAF14&utm_content=personalized_link" target="_blank">questrade.com/registration</a> use code 515724004489095 to get 50$ for free</li>
        <li id="robinhoodLink">Robinhood (USA) - <a href="https://robinhood.com/us/en/" target="_blank">robinhood.com</a></li>
      </ul>
    </div>
  </main>

  <footer>
    ¬© Stocks with Pavlo Lomakin
  </footer>

<script>
  let translated = false;
  let totalCriteria = 7;
  let currentCheckType = '';

  function toggleCriteria(index) {
    const checkbox = document.getElementById(`criteria${index}`);
    const group = document.getElementById(`group${index}`);
    checkbox.checked = !checkbox.checked;
    group.classList.toggle("highlighted", checkbox.checked);
    updateProgress();
  }

  function updateProgress() {
    let checked = 0;
    for (let i = 1; i <= totalCriteria; i++) {
      if (document.getElementById(`criteria${i}`).checked) {
        checked++;
      }
    }
    document.getElementById("progressTracker").textContent = `${checked} of ${totalCriteria} criteria selected`;
  }

  function openAiHelp(event) {
    event.stopPropagation();
    window.open("https://pavlolomakin.github.io/Ai.IV.analysis/", "_blank");
  }

  function openTickerModal(event, type) {
    event.stopPropagation();
    currentCheckType = type;
    
    // Set the modal message based on the type
    let message = "Enter ticker symbol";
    if (translated) {
      message = "–í–≤–µ–¥–∏—Ç–µ —Ç–∏–∫–µ—Ä –∫–æ–º–ø–∞–Ω–∏–∏";
    }
    
    document.getElementById("modalMessage").textContent = message;
    document.getElementById("tickerInput").placeholder = translated ? "–Ω–∞–ø—Ä–∏–º–µ—Ä MSFT" : "example MSFT";
    
    // Show the modal
    document.getElementById("tickerModal").style.display = "block";
  }

  function translatePage() {
    const translations = [
      {
        label: "–†–æ—Å—Ç –≤—ã—Ä—É—á–∫–∏ –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 5 –ª–µ—Ç –Ω–∞ 50% (—Å—Ä–µ–¥. 10%/–≥–æ–¥)",
        text: "–ü–æ–¥—É–º–∞–π—Ç–µ –æ –∫–æ–º–ø–∞–Ω–∏–∏ –∫–∞–∫ –æ —Ñ—É—Ç–±–æ–ª–∏—Å—Ç–µ ‚Äî —Ç–æ—Ç, –∫—Ç–æ –∑–∞–±–∏–≤–∞–ª 20 –≥–æ–ª–æ–≤ –∑–∞ —Å–µ–∑–æ–Ω, —Å–∫–æ—Ä–µ–µ –≤—Å–µ–≥–æ, –±—É–¥–µ—Ç –∑–∞–±–∏–≤–∞—Ç—å –∏ –≤ –±—É–¥—É—â–µ–º."
      },
      {
        label: "–ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –¥–æ–ª–≥–∞ –∫ –∫–∞–ø–∏—Ç–∞–ª—É –º–µ–Ω–µ–µ 1.5",
        text: "–°—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–∏ –∫–æ–º–ø–∞–Ω–∏–∏ —Å –º–µ–Ω—å—à–∏–º —É—Ä–æ–≤–Ω–µ–º –¥–æ–ª–≥–∞ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç –ª—É—á—à–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤ –±—É–¥—É—â–µ–º."
      },
      {
        label: "<span class='tooltip' data-tooltip='–ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç PEG –ø–æ–º–æ–≥–∞–µ—Ç –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Å—Ç–æ–∏–º–æ—Å—Ç—å –∞–∫—Ü–∏–π —Å —É—á—ë—Ç–æ–º –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–æ–≥–æ —Ä–æ—Å—Ç–∞.'>–ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç PEG –º–µ–Ω–µ–µ 1.5* </span>",
        text: "–£–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ —Ä–∞–∑—É–º–Ω—É—é —Ü–µ–Ω—É –∞–∫—Ü–∏–π –ø–æ –æ—Ç–Ω–æ—à–µ–Ω–∏—é –∫ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—É —Ä–æ—Å—Ç–∞. *-–î–ª—è –∫–æ–º–ø–∞–Ω–∏–π —Å —ç–∫–æ–Ω–æ–º–∏—á–µ—Å–∫–∏–º —Ä–≤–æ–º - –¥–æ 3.5"
      },
      {
        label: "–ü–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–π –¥–µ–Ω–µ–∂–Ω—ã–π –ø–æ—Ç–æ–∫",
        text: "–ü–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–π –¥–µ–Ω–µ–∂–Ω—ã–π –ø–æ—Ç–æ–∫ –¥–∞—ë—Ç –∫–æ–º–ø–∞–Ω–∏–∏ –∑–∞–ø–∞—Å –ø—Ä–æ—á–Ω–æ—Å—Ç–∏ –≤ –∫—Ä–∏–∑–∏—Å."
      },
      {
        label: "ROE –≤—ã—à–µ 10%",
        text: "–í—ã—Å–æ–∫–∏–π ROE –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç, —á—Ç–æ –∫–æ–º–ø–∞–Ω–∏—è –ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–∏ –≤ –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω—É—é –ø—Ä–∏–±—ã–ª—å."
      },
      {
        label: "<span class='tooltip' data-tooltip='–ï—Å—Ç—å –ª–∏ —Ä–∞—Å—Ç—É—â–∏–π —Å–ø—Ä–æ—Å –Ω–∞ –ø—Ä–æ–¥—É–∫—Ç –∏–ª–∏ —É—Å–ª—É–≥—É –∫–æ–º–ø–∞–Ω–∏–∏?'>–ë—É–¥—É—â–∏–π —Å–ø—Ä–æ—Å –Ω–∞ —Ä—ã–Ω–∫–µ</span>",
        text: "–û—Ü–µ–Ω–∏ —Å–ø—Ä–æ—Å: —á—Ç–æ –≥–æ–≤–æ—Ä—è—Ç –∫–ª–∏–µ–Ω—Ç—ã, –æ—Ç—Ä–∞—Å–ª—å, –∞–Ω–∞–ª–∏—Ç–∏–∫–∏?"
      },
      {
        label: "–≠–∫–æ–Ω–æ–º–∏—á–µ—Å–∫–∏–π —Ä–æ–≤ (–ö–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ)",
        text: "<span class='moat-tag brand'>–°–∏–ª–∞ –±—Ä–µ–Ω–¥–∞</span> <span class='moat-tag network'>–°–µ—Ç–µ–≤—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã</span> <span class='moat-tag tech'>–ü–∞—Ç–µ–Ω—Ç—ã/–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏</span> <span class='moat-tag switching'>–ó–∞—Ç—Ä–∞—Ç—ã –Ω–∞ —Å–º–µ–Ω—É</span> <span class='moat-tag size'>–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ —Ä–∞–∑–º–µ—Ä–∞</span><br>–ö–æ–º–ø–∞–Ω–∏–∏ —Å —Å–∏–ª—å–Ω—ã–º–∏ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω—ã–º–∏ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞–º–∏ –º–æ–≥—É—Ç –¥–æ–ª—å—à–µ —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –ø—Ä–∏–±—ã–ª—å."
      }
    ];

    translations.forEach((item, i) => {
      document.querySelector(`label[for='criteria${i + 1}']`).innerHTML = item.label;
      document.getElementById(`text${i + 1}`).innerHTML = item.text;
    });

    // Update the AI help button text
    document.querySelector('.ai-help-btn').textContent = "–û–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Å –ø–æ–º–æ—â—å—é –ò–ò";
    
    // Update the check buttons text
    document.querySelectorAll('.check-btn').forEach(btn => {
      btn.textContent = "–ü—Ä–æ–≤–µ—Ä–∏—Ç—å";
    });

    document.getElementById("basicKnowledgeTitle").textContent = "üõ†Ô∏è –ë–∞–∑–æ–≤—ã–µ –∑–Ω–∞–Ω–∏—è";

    const translatedRatios = [
      "P/E: –¶–µ–Ω–∞ –∫ –ø—Ä–∏–±—ã–ª–∏: –æ—Ç—Ä–∞–∂–∞–µ—Ç —Ü–µ–Ω—É –∞–∫—Ü–∏–∏ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –ø—Ä–∏–±—ã–ª–∏. –§–æ—Ä–º—É–ª–∞: –¶–µ–Ω–∞ √∑ –ü—Ä–∏–±—ã–ª—å –Ω–∞ –∞–∫—Ü–∏—é.",
      "PEG: —É—á–∏—Ç—ã–≤–∞–µ—Ç —Ä–æ—Å—Ç –ø—Ä–∏ –æ—Ü–µ–Ω–∫–µ. –§–æ—Ä–º—É–ª–∞: P/E √∑ –†–æ—Å—Ç –ø—Ä–∏–±—ã–ª–∏ (%).",
      "ROE: –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç—å –Ω–∞ –∫–∞–ø–∏—Ç–∞–ª. –§–æ—Ä–º—É–ª–∞: –ß–∏—Å—Ç–∞—è –ø—Ä–∏–±—ã–ª—å √∑ –°–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π –∫–∞–ø–∏—Ç–∞–ª.",
      "ROA: –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç—å –Ω–∞ –∞–∫—Ç–∏–≤—ã. –§–æ—Ä–º—É–ª–∞: –ß–∏—Å—Ç–∞—è –ø—Ä–∏–±—ã–ª—å √∑ –ê–∫—Ç–∏–≤—ã.",
      "Debt/Equity: —É—Ä–æ–≤–µ–Ω—å –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç–∏. –§–æ—Ä–º—É–ª–∞: –û–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞ √∑ –°–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π –∫–∞–ø–∏—Ç–∞–ª.",
      "Dividend Yield: –¥–æ—Ö–æ–¥ –æ—Ç –¥–∏–≤–∏–¥–µ–Ω–¥–æ–≤. –§–æ—Ä–º—É–ª–∞: –ì–æ–¥–æ–≤–æ–π –¥–∏–≤–∏–¥–µ–Ω–¥ √∑ –¶–µ–Ω–∞ –∞–∫—Ü–∏–∏.",
      "EPS: –ü—Ä–∏–±—ã–ª—å –Ω–∞ –∞–∫—Ü–∏—é: –ø—Ä–∏–±—ã–ª—å –Ω–∞ –æ–¥–Ω—É –∞–∫—Ü–∏—é. –§–æ—Ä–º—É–ª–∞: –ß–∏—Å—Ç–∞—è –ø—Ä–∏–±—ã–ª—å √∑ –ö–æ–ª-–≤–æ –∞–∫—Ü–∏–π.",
      "Price-to-Book: –¶–µ–Ω–∞ –∫ –±–∞–ª–∞–Ω—Å–æ–≤–æ–π —Å—Ç–æ–∏–º–æ—Å—Ç–∏: —Ä—ã–Ω–æ—á–Ω–∞—è —Ü–µ–Ω–∞ –∫ —Å—Ç–æ–∏–º–æ—Å—Ç–∏. –§–æ—Ä–º—É–ª–∞: –¶–µ–Ω–∞ √∑ –ë–∞–ª–∞–Ω—Å–æ–≤–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å –Ω–∞ –∞–∫—Ü–∏—é."
    ];
    
    document.getElementById("peRatio").textContent = translatedRatios[0];
    document.getElementById("pegRatio").textContent = translatedRatios[1];
    document.getElementById("roeRatio").textContent = translatedRatios[2];
    document.getElementById("roaRatio").textContent = translatedRatios[3];
    document.getElementById("deRatio").textContent = translatedRatios[4];
    document.getElementById("dividendYield").textContent = translatedRatios[5];
    document.getElementById("epsRatio").textContent = translatedRatios[6];
    document.getElementById("pbRatio").textContent = translatedRatios[7];

    document.getElementById("usefulLinksTitle").textContent = "üîó –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏";
    document.getElementById("stockAnalysisLink").innerHTML = `
      –í–µ–±-—Å–∞–π—Ç –¥–ª—è –±–µ—Å–ø–ª–∞—Ç–Ω–æ–≥–æ –ê–Ω–∞–ª–∏–∑–∞ –ê–∫—Ü–∏–π: <a href="https://stockanalysis.com/?ref=pavlo" target="_blank">StockAnalysis.com</a><br>
      –ú–æ–π —é—Ç—É–± –∫–∞–Ω–∞–ª –æ –ò–Ω–≤–µ—Å—Ç–∏—Ü–∏—è—Ö: <a href="https://www.youtube.com/@PavloLomakin" target="_blank">YouTube.com/@PavloLomakin</a><br>
      üßµ –î–µ–ª—é—Å—å –º—ã—Å–ª—è–º–∏ –∏ –∏–¥–µ—è–º–∏ –≤ Threads <a href="https://www.threads.net/@pavlo.lomakin" target="_blank">threads.net/@pavlo.lomakin</a>
    `;

    document.getElementById("recommendedBrokersTitle").textContent = "ü§ù –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –±—Ä–æ–∫–µ—Ä—ã";
    document.getElementById("ibkrLink").innerHTML = `Interactive brokers (–ü–æ –≤—Å–µ–º—É –º–∏—Ä—É) - <a href="https://ibkr.com/referral/pavlo272" target="_blank">ibkr.com</a>`;
    document.getElementById("questradeLink").innerHTML = `Questrade (–ö–∞–Ω–∞–¥–∞) - <a href="https://start.questrade.com/?oaa_promo=515724004489095&s_cid=RAF14_share_link_refer_a_friend_email&utm_medium=share_link&utm_source=refer_a_friend&utm_campaign=RAF14&utm_content=personalized_link" target="_blank">questrade.com/registration</a> –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–¥ 515724004489095, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å 50$ –±–µ—Å–ø–ª–∞—Ç–Ω–æ`;
    document.getElementById("robinhoodLink").innerHTML = `Robinhood (–°–®–ê) - <a href="https://robinhood.com/us/en/" target="_blank">robinhood.com</a>`;

    document.querySelector("h1").textContent = "üìä –ß–µ–∫-–ª–∏—Å—Ç –§–∏–Ω–∞–Ω—Å–æ–≤—ã—Ö –ö—Ä–∏—Ç–µ—Ä–∏–µ–≤";
    document.getElementById("translateBtn").textContent = "English";
    document.getElementById("ivCalculatorBtn").textContent = "IV –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä";
    document.getElementById("progressTracker").textContent = document.getElementById("progressTracker").textContent.replace("criteria", "–∫—Ä–∏—Ç–µ—Ä–∏–µ–≤");
    
    // Update footer
    document.querySelector("footer").textContent = "¬© –ê–∫—Ü–∏–∏ —Å –ü–∞–≤–ª–æ–º –õ–æ–º–∞–∫–∏–Ω—ã–º";
  }

  function revertPage() {
    const labelsEn = [
      "Previous 5-Year Revenue Growth of 50%",
      "Debt to Equity (DE) Ratio Less Than 1.5",
      "<span class='tooltip' data-tooltip='Price/Earnings to Growth (PEG) is a ratio used to determine a stock's value while factoring in growth.'>PEG</span> Ratio Under 1.5",
      "Positive Cash Flow",
      "Return on Equity (ROE) Above 10%",
      "<span class='tooltip' data-tooltip='Is there growing demand for this company's product or service?'>Future Market Demand</span>",
      "Economic Moat (Competitive Advantage)"
    ];

    const textsEn = [
      "Think of a company like a football player or boxer‚Äîone that's already successful is more likely to win in the future than one that's not.",
      "Statistically, companies with lower debt tend to deliver better future results.",
      "Suggests reasonable stock pricing relative to growth potential.",
      "Consistent cash inflow gives a company a safety buffer during market downturns.",
      "Strong ROE means the company turns $10 of investor capital into $11 or more.",
      "Assess what customers, trends, and analysts say about future relevance.",
      `<span class="moat-tag brand">Brand Power</span>
      <span class="moat-tag network">Network Effects</span>
      <span class="moat-tag tech">Patents/Tech</span>
      <span class="moat-tag switching">Switching Costs</span>
      <span class="moat-tag size">Size Advantage</span>
      <br>Companies with strong competitive advantages can sustain profits longer.`
    ];

    labelsEn.forEach((label, i) => {
      document.querySelector(`label[for='criteria${i + 1}']`).innerHTML = label;
      document.getElementById(`text${i + 1}`).innerHTML = textsEn[i];
    });

    // Revert the AI help button text
    document.querySelector('.ai-help-btn').textContent = "Define with AI help";
    
    // Revert the check buttons text
    document.querySelectorAll('.check-btn').forEach(btn => {
      btn.textContent = "Check";
    });

    document.getElementById("basicKnowledgeTitle").textContent = "üõ†Ô∏è Basic Knowledge";

    const originalRatios = [
      "P/E Ratio: Price-to-Earnings. Measures share price relative to earnings per share. Calculated as: Price √∑ EPS",
      "PEG Ratio: P/E to Growth. Adjusts P/E by growth rate. Calculated as: P/E √∑ Earnings Growth %",
      "ROE: Return on Equity. Indicates how efficiently equity is used. Calculated as: Net Income √∑ Shareholder's Equity",
      "ROA: Return on Assets. Measures profitability by total assets. Calculated as: Net Income √∑ Total Assets",
      "Debt/Equity: Shows leverage level. Calculated as: Total Liabilities √∑ Shareholder's Equity",
      "Dividend Yield: Income from dividends. Calculated as: Annual Dividend √∑ Share Price",
      "EPS: Earnings Per Share. Represents profitability per share. Calculated as: Net Income √∑ Shares Outstanding",
      "Price-to-Book: Market value vs. book value. Calculated as: Share Price √∑ Book Value per Share"
    ];
    
    document.getElementById("peRatio").textContent = originalRatios[0];
    document.getElementById("pegRatio").textContent = originalRatios[1];
    document.getElementById("roeRatio").textContent = originalRatios[2];
    document.getElementById("roaRatio").textContent = originalRatios[3];
    document.getElementById("deRatio").textContent = originalRatios[4];
    document.getElementById("dividendYield").textContent = originalRatios[5];
    document.getElementById("epsRatio").textContent = originalRatios[6];
    document.getElementById("pbRatio").textContent = originalRatios[7];

    document.getElementById("usefulLinksTitle").textContent = "üîó Useful Links";
    document.getElementById("stockAnalysisLink").innerHTML = `
      Website for free stock analysis: <a href="https://stockanalysis.com/?ref=pavlo" target="_blank">StockAnalysis.com</a><br>
      My YouTube channel on investing: <a href="https://www.youtube.com/@PavloLomakin" target="_blank">YouTube.com/@PavloLomakin</a>
    `;

    document.getElementById("recommendedBrokersTitle").textContent = "ü§ù Recommended Brokers";
    document.getElementById("ibkrLink").innerHTML = `Interactive brokers (World wide) - <a href="https://ibkr.com/referral/pavlo272" target="_blank">ibkr.com</a>`;
    document.getElementById("questradeLink").innerHTML = `Questrade (Canada) - <a href="https://start.questrade.com/?oaa_promo=515724004489095&s_cid=RAF14_share_link_refer_a_friend_email&utm_medium=share_link&utm_source=refer_a_friend&utm_campaign=RAF14&utm_content=personalized_link" target="_blank">questrade.com/registration</a> use code 515724004489095 to get 50$ for free`;
    document.getElementById("robinhoodLink").innerHTML = `Robinhood (USA) - <a href="https://robinhood.com/us/en/" target="_blank">robinhood.com</a>`;

    document.querySelector("h1").textContent = "üìä Financial Criteria Checklist";
    document.getElementById("translateBtn").textContent = "–†—É—Å—Å–∫–∏–π";
    document.getElementById("ivCalculatorBtn").textContent = "IV Calculator";
    document.getElementById("progressTracker").textContent = document.getElementById("progressTracker").textContent.replace("–∫—Ä–∏—Ç–µ—Ä–∏–µ–≤", "criteria");
    
    // Revert footer
    document.querySelector("footer").textContent = "¬© Stocks with Pavlo Lomakin";
  }

  // Modal functionality
  const modal = document.getElementById("tickerModal");
  const span = document.getElementsByClassName("close")[0];
  const tickerInput = document.getElementById("tickerInput");
  const submitTicker = document.getElementById("submitTicker");

  span.onclick = function() {
    modal.style.display = "none";
  }

  window.onclick = function(event) {
    if (event.target == modal) {
      modal.style.display = "none";
    }
  }

  submitTicker.onclick = function() {
    const ticker = tickerInput.value.trim().toUpperCase();
    if (ticker) {
      let url = "";
      
      switch(currentCheckType) {
        case 'revenue':
          url = `https://stockanalysis.com/stocks/${ticker}/financials/?ref=pavlo`;
          break;
        case 'debtToEquity':
          url = `https://stockanalysis.com/stocks/${ticker}/financials/ratios/?p=quarterly?ref=pavlo`;
          break;
        case 'peg':
          url = `https://stockanalysis.com/stocks/${ticker}/financials/ratios/?p=quarterly?ref=pavlo`;
          break;
        case 'cashflow':
          url = `https://stockanalysis.com/stocks/${ticker}/financials/cash-flow-statement/?p=quarterly?ref=pavlo`;
          break;
        case 'roe':
          url = `https://stockanalysis.com/stocks/${ticker}/financials/ratios/?p=quarterly?ref=pavlo`;
          break;
      }
      
      if (url) {
        window.open(url, "_blank");
      }
      
      // Close the modal and clear the input
      modal.style.display = "none";
      tickerInput.value = "";
    }
  }

  // Allow pressing Enter to submit
  tickerInput.addEventListener("keypress", function(event) {
    if (event.key === "Enter") {
      event.preventDefault();
      submitTicker.click();
    }
  });

  updateProgress();

  document.getElementById("translateBtn").addEventListener("click", () => {
    if (translated) {
      revertPage();
    } else {
      translatePage();
    }
    translated = !translated;
  });

  document.getElementById("ivCalculatorBtn").addEventListener("click", () => {
    window.open("https://pavlolomakin.github.io/IV-calculator/", "_blank");
  });
</script>
</body>
</html>
